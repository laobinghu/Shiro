import{j as o,r}from"./index-CaQNHPqR.js";import{c as p}from"./helper-CB7ordUq.js";import{F as x}from"./FloatPopover-rsWSrnx4.js";import"./floating-ui.react-dom-DtNc5yOO.js";import"./viewport-CmXhBg3S.js";import"./owner-EYyAWlgp.js";import"./spring-C80N1tKa.js";import"./use-event-callback-D-ihFmfO.js";import"./index-DknxroSg.js";import"./index-CbtsY2H5.js";import"./proxy-BY0eS7VU.js";const h=t=>t.offsetWidth<t.scrollWidth||t.offsetHeight<t.scrollHeight,w=t=>{const{children:e,className:i,width:l,disabled:c,wrapperClassName:m}=t,[s,d]=r.useState(),[u,f]=r.useState(!1),n=()=>{s&&f(h(s))};return r.useEffect(()=>{n()},[s,e]),r.useEffect(()=>{if(!s)return;const a=new ResizeObserver(()=>{n()});return a.observe(s),()=>{a.disconnect()}},[s]),o.jsx(x,{mobileAsSheet:!0,type:"tooltip",wrapperClassName:p("w-full min-w-0 truncate",m),isDisabled:!u||c,TriggerComponent:r.useCallback(()=>o.jsx("span",{className:i,ref:d,style:l?{maxWidth:l}:void 0,children:e}),[e,i,l]),children:o.jsx("span",{className:"max-w-[30vw] break-all hover:!bg-transparent",onClick:a=>a.stopPropagation(),children:e})})},b=t=>{const{className:e,...i}=t;return o.jsx(w,{className:p("block truncate",e),...i})},v=()=>o.jsx(b,{width:"12rem",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam"});v.meta={title:"文本溢出省略 + 提示",description:"如果文本溢出则省略，省略时伴随 Tooltip 提示"};const H={title:"文本溢出",description:"一个简单的处理文本溢出省略的组件"};export{v as EllipsisTextWithTooltipDemo,H as metadata};
